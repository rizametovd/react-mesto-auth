{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/Hamburger.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","href","target","src","logo","alt","exact","path","hamburgerStatus","onClick","onHamburgerMenuClick","type","to","email","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","cardDeleteButtonClassName","card","owner","_id","cardLikeButtonClassName","likes","some","i","link","onCardClick","name","aria-label","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","children","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","defaultValue","placeholder","minLength","maxLength","required","onChange","value","EditAvatarPopup","setAvatar","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","config","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","formData","method","body","JSON","stringify","cardId","isLiked","authorization","Login","setEmail","password","setPassword","onLogin","Register","onRegister","ProtectedRoute","Component","component","loggedIn","Hamburger","InfoTooltip","success","fail","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","hamburgerMenu","setHamburgerMenu","tooltipStatus","setTooltipStatus","history","useHistory","localStorage","removeItem","push","handleHamburgerMenuClick","prevHamburgerMenuState","closeAllPopups","token","jwt","getItem","data","catch","err","console","log","getInitialCards","cardsData","getUserInfo","userData","Provider","changeLikeCardStatus","newCard","state","c","removedCard","removeCard","filter","cardData","auth","setItem","setUserInfo","setUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45a4f241.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1c0cdde7.svg\";","import logo from '../images/logo.svg';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo-link\" href=\"/#\" target=\"_self\">\r\n                <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n            </a>\r\n            <Route exact path=\"/\">\r\n                <button className={`${props.hamburgerStatus ? \"header__hamburger-button_active\" : \"header__hamburger-button\"}`} onClick={props.onHamburgerMenuClick} type=\"button\" ></button>\r\n            </Route>\r\n\r\n            <Route path=\"/sign-in\">\r\n                <Link className=\"header__auth-link button\" to=\"/sign-up\">\r\n                    Регистрация\r\n                </Link>\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n                <Link className=\"header__auth-link button\" to=\"/sign-in\">\r\n                    Войти\r\n                </Link>\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n                <p className=\"header__auth-email\">{props.email}</p>\r\n                <button\r\n                    className=\"header__auth-sign-out-button button\"\r\n                    onClick={props.onSignOut}>Выйти</button>\r\n            </Route>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = isOwn ? 'cards__item-delete-button button' : 'cards__item-delete-button_hidden';\r\n    const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = isLiked\r\n        ? 'cards__item-like-icon-button_active button'\r\n        : 'cards__item-like-icon-button button';\r\n\r\n    function handleClick() {\r\n        props.onCardClick({ name: props.card.name, link: props.card.link });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"cards__item\">\r\n            <img\r\n                className=\"cards__item-photo\"\r\n                src={props.card.link}\r\n                onClick={handleClick}\r\n                alt={`Фото ${props.card.name}`}\r\n            />\r\n            <button\r\n                className={cardDeleteButtonClassName}\r\n                type=\"button\"\r\n                aria-label=\"Удалить карточку\"\r\n                onClick={handleDeleteClick}\r\n            />\r\n            <div className=\"cards__item-container\">\r\n                <h2 className=\"cards__item-title\">{props.card.name}</h2>\r\n                <div className=\"cards__like-container\">\r\n                    <button\r\n                        className={cardLikeButtonClassName}\r\n                        type=\"button\"\r\n                        aria-label=\"Лайкнуть карточку\"\r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p className=\"cards__item-likes\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import Card from './Card.js';\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <a\r\n                    className=\"profile__avatar-container\"\r\n                    href=\"/#\"\r\n                    target=\"_self\"\r\n                    onClick={props.onEditAvatar}\r\n                >\r\n                    <img\r\n                        className=\"profile__avatar\"\r\n                        src={currentUser.avatar}\r\n                        alt=\"Аватар пользователя\"\r\n                    />\r\n                </a>\r\n                <div className=\"profile__container\">\r\n                    <div className=\"profile__info\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button\r\n                            className=\"profile__edit-button button\"\r\n                            aria-label=\"Изменить данные пользователя\"\r\n                            type=\"button\"\r\n                            onClick={props.onEditProfile}\r\n                        ></button>\r\n                    </div>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-button button\"\r\n                    aria-label=\"Загрузить картинку\"\r\n                    type=\"button\"\r\n                    onClick={props.onAddPlace}\r\n                ></button>\r\n            </section>\r\n            <section className=\"cards\">\r\n                <ul className=\"cards__list\">\r\n                    {props.cards.map((item) => (\r\n                        <Card\r\n                            key={item._id}\r\n                            card={item}\r\n                            onCardClick={props.onCardClick}\r\n                            onCardLike={props.onCardLike}\r\n                            onCardDelete={props.onCardDelete}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n\r\n\r\n\r\n\r\n","function Footer() {\r\n\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n\r\n    return (\r\n        <div className={`popup popup-img ${props.card.link.length > 0 && 'popup_opened'}`}>\r\n            <div className=\"popup__container-image\">\r\n                <img className=\"popup__image\" src={`${props.card.link}`} alt={`Фото ${props.card.name}`}/>\r\n                <h3 className=\"popup__image-caption\">{props.card.name}</h3>\r\n                <button className=\"popup__close-button button popup__close-button_img\" type=\"button\"\r\n                        aria-label=\"Закрыть попап\" onClick={props.onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","function PopupWithForm(props) {\r\n\r\n    return (\r\n        <div className={`popup ${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit}>\r\n                <button\r\n                    className=\"popup__close-button button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть попап\"\r\n                    onClick={props.onClose}\r\n                ></button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                {props.children}\r\n                <button\r\n                    className=\"popup__submit-button button popup__button\"\r\n                    type='submit'\r\n                >\r\n                    {props.button}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleAboutChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name=\"popup-edit\"\r\n            title=\"Редактировать профиль\"\r\n            button=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    id=\"name__input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    defaultValue={name}\r\n                    placeholder=\"Имя\"\r\n                    className=\"popup__field popup__input\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required\r\n                    onChange={handleNameChange}\r\n                />\r\n                <span id=\"name__input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    id=\"about__input\"\r\n                    type=\"text\"\r\n                    name=\"about\"\r\n                    defaultValue={description}\r\n                    placeholder=\"О себе\"\r\n                    className=\"popup__field popup__input\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required\r\n                    onChange={handleAboutChange}\r\n                />\r\n                <span id=\"about__input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useRef, useState } from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const [avatar, setAvatar] = useState('');\r\n    const avatarRef = useRef();\r\n\r\n    function handleAvatarChange(e) {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n        setAvatar('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name=\"popup-update-avatar\"\r\n            title=\"Обновить аватар\"\r\n            button=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    id=\"avatar__input\"\r\n                    type=\"url\"\r\n                    name=\"avatar\"\r\n                    value={avatar}\r\n                    placeholder=\"Ссылка на аватар\"\r\n                    className=\"popup__field popup__field_add popup__image-link popup__input\"\r\n                    required\r\n                    ref={avatarRef}\r\n                    onChange={handleAvatarChange}\r\n                />\r\n                <span id=\"avatar__input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport { useState } from 'react';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleAddName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleAddLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name,\r\n            link\r\n        });\r\n        setName('');\r\n        setLink('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name=\"popup-add\"\r\n            title=\"Новое место\"\r\n            button=\"Создать\"\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    id=\"title__input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    placeholder=\"Название\"\r\n                    className=\"popup__field popup__input\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required\r\n                    onChange={handleAddName}\r\n                />\r\n                <span id=\"name__input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    id=\"link__input\"\r\n                    type=\"text\"\r\n                    name=\"about\"\r\n                    value={link}\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"popup__field popup__input\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required\r\n                    onChange={handleAddLink}\r\n                />\r\n                <span id=\"about__input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor(config) {\r\n        this._url = config.baseUrl;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    setUserInfo(formData) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                about: formData.about\r\n            })\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    addCard(formData) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                link: formData.link\r\n            })\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    removeCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        return fetch(`${this._url}cards/likes/${cardId}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    setUserAvatar(formData) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: formData.avatar\r\n            })\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20/',\r\n    headers: {\r\n        authorization: '31d51008-4859-4d5b-b87f-d3d5e1b6e481',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n\r\n\r\n","import { useState } from 'react';\r\n\r\n\r\nfunction Login(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleAddEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleAddPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin({ password, email });\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth\">\r\n            <form className=\"auth__container\" onSubmit={handleSubmit}>\r\n                <h2 className=\"auth__title\">Вход</h2>\r\n                <label className=\"auth__label\">\r\n                    <input\r\n                        id=\"email__input\"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"auth__field auth__input\"\r\n                        minLength=\"1\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        onChange={handleAddEmail}\r\n                    />\r\n                </label>\r\n                <label className=\"auth__label\">\r\n                    <input\r\n                        id=\"password__input\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        defaultValue=\"\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"auth__field auth__input\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        required\r\n                        onChange={handleAddPassword}\r\n                    />\r\n                </label>\r\n                <button className=\"auth__submit-button button auth__button\" type='submit'>Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import { Route, Link } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleAddEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleAddPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister(email, password);\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth\">\r\n            <form className=\"auth__container\" onSubmit={handleSubmit}>\r\n                <h2 className=\"auth__title\">Регистрация</h2>\r\n                <label className=\"auth__label\">\r\n                    <input\r\n                        id=\"email__input\"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"auth__field auth__input\"\r\n                        minLength=\"1\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        onChange={handleAddEmail}\r\n                    />\r\n                </label>\r\n                <label className=\"auth__label\">\r\n                    <input\r\n                        id=\"password__input\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        defaultValue=\"\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"auth__field auth__input\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        required\r\n                        onChange={handleAddPassword}\r\n                    />\r\n                </label>\r\n                <button className=\"auth__submit-button button auth__button\" type='submit'>Зарегистрироваться</button>\r\n                <p className=\"auth__text\">Уже зарегистрированы?\r\n                     <Route path=\"/sign-up\">\r\n                        <Link className=\"auth__text-link button\" to=\"/sign-in\">\r\n                            {' '}Войти\r\n                        </Link>\r\n                    </Route>\r\n                </p>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { Route } from 'react-router-dom';\r\n\r\nfunction Hamburger(props) {\r\n\r\n    return (\r\n        <Route exact path=\"/\">\r\n            <div className={`hamburger-menu ${props.isOpen && 'hamburger-menu_opened'}`}>\r\n                <div className=\"hamburger-menu__content\">\r\n                    <p className=\"hamburger__auth-email\">{props.email}</p>\r\n                    <button className=\"hamburger__auth-sign-out-button\" onClick={props.onSignOut}>Выйти</button>\r\n                </div>\r\n            </div>\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default Hamburger;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import success from '../images/success.svg';\r\nimport fail from '../images/fail.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <div className={`popup ${props.status && 'popup_opened'}`}>\r\n            <div className=\"popup__container popup__container_img\">\r\n                <button\r\n                    className=\"popup__close-button button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть попап\"\r\n                    onClick={props.onClose}\r\n                ></button>\r\n                <img\r\n                    className=\"popup__img-status\"\r\n                    src={`${props.status === 'success' ? success : fail}`} alt={`${props.status === 'success' ? 'Успешная регистрация' : 'Что-то пошло не так'}`} />\r\n                <h2 className=\"popup__title popup__title_img\">{`${props.status === 'success' ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}`}</h2>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","\r\nexport const BASE_URL = 'https://auth.nomoreparties.co/';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        });\r\n}\r\n\r\nexport const authorize = ({ password, email }) => {\r\n    return fetch(`${BASE_URL}signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n        .then(data => data)\r\n}","import '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport { useState, useEffect } from 'react';\r\nimport { api } from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Hamburger from './Hamburger';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [hamburgerMenu, setHamburgerMenu] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [tooltipStatus, setTooltipStatus] = useState('');\r\n  const history = useHistory();\r\n\r\n\r\n  function onRegister(email, password) {\r\n    auth.register(email, password)\r\n      .then(res => {\r\n        if (res.data._id) {\r\n          setTooltipStatus('success');\r\n          history.push('/sign-in')\r\n        }\r\n      })\r\n      .catch(res => setTooltipStatus('fail'));\r\n  }\r\n\r\n  function onLogin({ password, email }) {\r\n    auth.authorize({ password, email })\r\n      .then(data => {\r\n        if (data.token) {\r\n          setEmail(email);\r\n          localStorage.setItem('jwt', data.token);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function onSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    setHamburgerMenu(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n        .then(res => {\r\n          if (res) {\r\n            setEmail(res.data.email);\r\n            setLoggedIn(true);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, [history])\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cardsData) => {\r\n        setCards(cardsData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((likes) => likes._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(removedCard) {\r\n    api\r\n      .removeCard(removedCard._id)\r\n      .then(() => {\r\n        setCards((cards) => cards.filter((card) => card._id !== removedCard._id))\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  function handleUpdateUser(formData) {\r\n    api\r\n      .setUserInfo(formData)\r\n      .then((formData) => {\r\n        setCurrentUser(formData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(formData) {\r\n    api\r\n      .setUserAvatar(formData)\r\n      .then((formData) => {\r\n        setCurrentUser(formData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    api\r\n      .addCard(newCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleHamburgerMenuClick() {\r\n    setHamburgerMenu(prevHamburgerMenuState => !prevHamburgerMenuState);\r\n  }\r\n\r\n  function handleCardClick(cardData) {\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({ name: \"\", link: \"\" });\r\n    setTooltipStatus('');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page page__content\">\r\n        <Hamburger\r\n          isOpen={hamburgerMenu}\r\n          onHamburgerMenuClick={handleHamburgerMenuClick}\r\n          email={email}\r\n          onSignOut={onSignOut}\r\n        />\r\n        <Header\r\n          onHamburgerMenuClick={handleHamburgerMenuClick}\r\n          onSignOut={onSignOut}\r\n          email={email}\r\n          hamburgerStatus={hamburgerMenu}\r\n        />\r\n\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact path=\"/\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={onLogin} />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={onRegister} />\r\n          </Route>\r\n\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n        <InfoTooltip status={tooltipStatus} onClose={closeAllPopups} />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}